# 分布式微服务

## 概念

### CAP

一般分布式系统，要么是 CP，要么是 AP。

- **一致性(Consistency)**：每次读取都会返回最新写入的数据。
- **可用性(Availability)**：每个请求都能得到一个响应，无论响应成功或失败。
- **分区容错性(Partition tolerance)**：系统能够持续提供服务，即使出现了网络分区。

_之所以不能同时满足这三个要素，是因为在发生网络分区（网络故障导致节点间无法通信）的情况下，要保证一致性就可能需要牺牲可用性（因为某些操作可能需要等待或失败以保持数据一致），反之亦然。_

在选择适用场景时：

- 一致性优先：适用于对数据准确性要求极高的场景，如银行系统。
- 可用性优先：适用于对服务响应时间和稳定性要求较高的场景，如社交媒体。
- 分区容错性：是分布式系统必须要满足的，因此在设计时需要考虑如何在一致性和可用性之间做权衡。

